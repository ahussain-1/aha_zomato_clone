let cardsData = [
    {
      image: "Zimages/card-1.jpg",
      title: "Arsalan",
      rating: 2.1,
      description: "Biryani, North Indian, Mug...",
      price: 350,
      deliveryTime: "55min",
    },
    {
      image: "Zimages/card-2.png",
      title: "WOW! Momo",
      rating: 4.2,
      description: "Momos, Tibetan, Fast Foo...",
      price: 150,
      deliveryTime: "35min"
    },
    {
      image: "Zimages/card-3.png",
      title: "Haji Saheb",
      rating: 4.2,
      description: "Chinese, Mughal, Biryani,...",
      price: 400,
      deliveryTime: "38min"
    },
    {
      image: "Zimages/card-4.png",
      title: "Sai Jalpan Junction",
      rating: 4.4,
      description: "South Indian, North Indian,...",
      price: 200,
      deliveryTime: "41min"
    },
    {
      image: "Zimages/card-5.png",
      title: "Domino's Pizza",
      rating: 3.9,
      description: "Pizza, Fast Food, Desserts",
      price: 200,
      deliveryTime: "39min"
    },
    {
      image: "Zimages/card-6.png",
      title: "Noxx",
      rating: 4.2,
      description: "North Indian, Mughlai, Chi...",
      price: 600,
      deliveryTime: "48min"
    },
    {
      image: "Zimages/card-7.png",
      title: "KFC",
      rating: 4.4,
      description: "Fast Food, Burger, Rolls",
      price: 200,
      deliveryTime: "42min"
    },
    {
      image: "Zimages/card-8.png",
      title: "Superstar Haji Biryani",
      rating: 3.8,
      description: "Biryani",
      price: 100,
      deliveryTime: "31min"
    },
    {
      image: "Zimages/card-9.png",
      title: "Mitra Cafe",
      rating: 4.6,
      description: "Seafood, Bengali, North In...",
      price: 200,
      deliveryTime: "38min"
    },
    {
      image: "Zimages/card-10.png",
      title: "New Paul Dhaba Veggie Hub",
      rating: 4.2,
      description: "North Indian, Chinese, Biry...",
      price: 150,
      deliveryTime: "38min",
      category: "veg",
    },
    {
      image: "Zimages/card-11.png",
      title: "Kwality Wall's Ice Cream And ...",
      rating: 4.6,
      description: "Ice Cream, Deserts",
      price: 70,
      deliveryTime: "31min",
      category: "veg",
    },
    {
      image: "Zimages/card-12.png",
      title: "Mio Amore",
      rating: 4.3,
      description: "Bakery, Deserts, Fast Fo...",
      price: 150,
      deliveryTime: "32min",
      category: "veg",
    },
    {
      image: "Zimages/card-13.png",
      title: "The 99 Thali Shop",
      rating: 4.1,
      description: "Bengali, Chinese, North In...",
      price: 100,
      deliveryTime: "36min"
    },
    {
      image: "Zimages/card-14.png",
      title: "McDonald's",
      rating: 4.2,
      description: "Burger, Wrap, Fast Food...",
      price: 200,
      deliveryTime: "50min"
    },
    {
      image: "Zimages/card-15.png",
      title: "WOW! China",
      rating: 4.0,
      description: "Chinese, Oriental",
      price: 200,
      deliveryTime: "28min"
    },
    {
      image: "Zimages/card-16.png",
      title: "Kasturi Restaurant",
      rating: 4.2,
      description: "Bengali, Bangladeshi, Seaf...",
      price: 400,
      deliveryTime: "64min"
    },
    {
      image: "Zimages/card-17.png",
      title: "Oudh 1590",
      rating: 4.2,
      description: "North Indian, Mughlai, Aw...",
      price: 850,
      deliveryTime: "72min"
    },
    {
      image: "Zimages/card-18.png",
      title: "Kreamz",
      rating: 4.2,
      description: "Bakery, Desserts, Fast Fo...",
      price: 250,
      deliveryTime: "31min",
      category: "veg",
    },
    {
      image: "Zimages/card-19.png",
      title: "Haldiram's Prabhuji",
      rating: 4.0,
      description: "Mishti, South Indian, North...",
      price: 150,
      deliveryTime: "40min",
      category: "veg",
    },
    {
      image: "Zimages/card-20.png",
      title: "Monginis",
      rating: 4.0,
      description: "Bakery, Fast Food, Burger...",
      price: 100,
      deliveryTime: "28min",
      category: "veg",
    },
    {
      image: "Zimages/card-21.png",
      title: "The Belgian Waffle Co.",
      rating: 4.4,
      description: "Waffle, Desserts, Shake, I...",
      price: 65,
      deliveryTime: "34min",
      category: "veg",
    },
    {
      image: "Zimages/card-22.png",
      title: "Baskin Robbins-Ice Cream D...",
      rating: 4.6,
      description: "Ice Cream, Shake, Desserts",
      price: 100,
      deliveryTime: "30min",
      category: "veg",
    },
    {
      image: "Zimages/card-23.png",
      title: "Gupta Brothers",
      rating: 4.4,
      description: "Mithai, Desserts, North Ind...",
      price: 150,
      deliveryTime: "33min",
      category: "veg",
    },
    {
      image: "Zimages/card-24.png",
      title: "Mama Mia",
      rating: 4.4,
      description: "Ice Cream, Desserts, Bake...",
      price: 200,
      deliveryTime: "28min",
      category: "veg",
    },
    {
      image: "Zimages/card-25.png",
      title: "Bhikaram Chandmal",
      rating: 4.3,
      description: "Mishti, Fast Food, Street F...",
      price: 150,
      deliveryTime: "40min",
      category: "veg",
    },
    {
      image: "Zimages/card-26.png",
      title: "New Biryani",
      rating: 3.4,
      description: "Biryani, North Indian",
      price: 250,
      deliveryTime: "31min"
    },
    {
      image: "Zimages/card-27.jpg",
      title: "Kake Di Hatti - Since 1942",
      rating: 4.3,
      description: "North Indian, Chinese, Roll...",
      price: 1500,
      deliveryTime: "37min",
      category: "veg",
    },
    {
      image: "Zimages/card-28.jpg",
      title: "Keventers-Milkshakes & Dess...",
      rating: 4.2,
      description: "Beverages, Shake, Ice Cre...",
      price: 200,
      deliveryTime: "26min",
      category: "veg",
    },
    {
      image: "Zimages/card-29.jpg",
      title: "Apno Rajasthan",
      rating: 4.3,
      description: "North Indian",
      price: 950,
      deliveryTime: "28min",
      category: "veg",
    },
    {
      image: "Zimages/card-30.jpg",
      title: "Chai Break-Howrah",
      rating: 3.9,
      description: "Cafe, Coffe, North Indian...",
      price: 400,
      deliveryTime: "25min",
    }
]
  
  // Function to get selected filters from the input checkbox which are checked and map helps to extract the input value from the array;
  function getSelectedFilters() {
   return Array.from(document.querySelectorAll('input[name="sort"]:checked')).map(input => input.value);
  }

  
  // Function to create card elements...
  function createCard(card) {
    const cardElement = document.createElement("div");
    cardElement.classList.add("cards-content");
  
    const imgContainer = document.createElement("div");
    imgContainer.classList.add("img-container");
    const img = document.createElement("img");
    img.src = card.image;
    img.alt = "Restaurant Image";
    imgContainer.append(img);
  
    const headingRating = document.createElement("div");
    headingRating.classList.add("heading-rating");
    const h4 = document.createElement("h4");
    h4.textContent = card.title;
    const rating = document.createElement("div");
    const ratingSpan = document.createElement("span");
    ratingSpan.innerHTML = `${card.rating} &#9733;`;
    rating.append(ratingSpan);
    headingRating.append(h4, rating);
  
    const descripPrice = document.createElement("div");
    descripPrice.classList.add("descrip-price");
    const description = document.createElement("p");
    description.textContent = card.description;
    const price = document.createElement("p");
    price.textContent = `â‚¹${card.price} for one`;
    descripPrice.append(description, price);
  
    const deliveryTime = document.createElement("div");
    deliveryTime.classList.add("delivery-time");
    const deliveryTimeP = document.createElement("p");
    deliveryTimeP.textContent = card.deliveryTime;
    deliveryTime.append(deliveryTimeP);
  
    cardElement.append(imgContainer, headingRating, descripPrice, deliveryTime);
    return cardElement;
  }
  
  // Function to render cards
  function renderCards(cards) {
    const container = document.getElementById("card-container");
    if (container) {
      container.innerHTML = "";
      cards.forEach(card => {
        const cardElement = createCard(card);
        const alink = document.createElement("a");
        alink.href = "/order.html";
        alink.append(cardElement);
        container.append(alink);
      });
    }
  }
  
  
  // Function to filter by veg category..
  let pureVeg = document.getElementById("pure-veg");
    pureVeg.addEventListener("click", () => {
    pureVeg.classList.add("pureVeg-btn-toggle");
    veg();
  });
  function veg(){
    let vegetarian = cardsData.filter((cards) => {
      return cards.category;
    });
    renderCards(vegetarian);
  
  }
  

  // Function to handle multiple filter request...
  function filterAndSortData() {
    const selectedFilters = getSelectedFilters();  
    // Filtered Data based on the selectedfilter value.
    let filteredData = cardsData.filter(item => {
      return selectedFilters.some(filter => {
        return (filter === "rating" && item.rating !== undefined) || (filter === "lowprice" && item.price !== undefined) || (filter === "deliveryTime" && item.deliveryTime !== undefined) || (filter === "highprice" && item.price !== undefined);
      });
    });
  
    // Sorting Data based on the selected filter
    selectedFilters.forEach(filter => {
      const filterLabel = document.querySelector(`input[value="${filter}"]`).parentElement.textContent.trim();
      console.log("azhar ==> ",filterLabel, "==>", typeof(filter));
      if (filterLabel === "Rating: High to Low" && filter === "rating") {
        filteredData.sort((a, b) => b.rating - a.rating);
      } else if (filterLabel === "Cost: Low to High" && filter === "lowprice") {
        filteredData.sort((a, b) => a.price - b.price);
      } else if (filterLabel === "Cost: High to Low" && filter === "highprice") {
        filteredData.sort((a, b) => b.price - a.price);
      } else if (filterLabel === "Delivery Time" && filter === "deliveryTime") {
        filteredData.sort((a, b) => parseInt(a.deliveryTime) - parseInt(b.deliveryTime));
      }
    });
  
    console.log("Filtered and Sorted Data:", filteredData);
  
    renderCards(filteredData);
  }
  

  // Event listener for the apply filters button
  document.querySelector(".apply-filters").addEventListener("click", function() {
    filterAndSortData();
    document.getElementById("filterPopup").style.display = "none";
  });
  
  
  // Reset function to clear filters
  document.querySelector(".clear-filters").addEventListener("click", function() {
    document.getElementById("filterForm").reset();
    pureVeg.classList.remove("pureVeg-btn-toggle");
    renderCards(cardsData);
  });
  
  // Initial render of all cards
  document.addEventListener("DOMContentLoaded", () => {
    renderCards(cardsData);
  });
  